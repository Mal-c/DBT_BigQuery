version: 2

sources:
    - name: jaffle_shop
      description: This is a replica of the Postgres database used by our app
      database: dbt-tutorial
      schema: jaffle_shop
      tables:
          - name: customers
            columns:
              - name: id
                data_tests:
                - unique
                - not_null
            description: One record per customer.
          - name: orders
            columns:
              - name: id
                data_tests:
                - not_null
                - unique 
            description: One record per order. Includes cancelled and deleted orders.
            config:
              freshness:
                warn_after:
                  count: 12
                  period: hour
                error_after:
                  count: 1
                  period: day
              loaded_at_field: _etl_loaded_at
      